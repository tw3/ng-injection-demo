<h1 class="page-title">Platform-Level Injection</h1>
<p class="page-subtitle">
  The <strong>platform injector</strong> is the highest level in Angular's injector
  hierarchy. It is created when the Angular platform is initialized and is shared
  across <em>all applications</em> running on the same page. Platform-level providers
  are rarely used directly in application code, but they underpin the entire DI system.
</p>

<div class="demo-section">
  <h2 class="demo-section-title">Built-in Platform Tokens</h2>
  <div class="explanation-box">
    Angular provides several tokens at the platform level. These are available to
    every application bootstrapped on the page:
  </div>

  <div class="platform-tokens">
    <div class="token-card">
      <div class="token-name">PLATFORM_ID</div>
      <div class="token-value">{{ platformId }}</div>
      <div class="token-desc">Identifies the platform (browser, server, etc.)</div>
    </div>
    <div class="token-card">
      <div class="token-name">DOCUMENT</div>
      <div class="token-value">{{ documentTitle }}</div>
      <div class="token-desc">Reference to the DOM document object</div>
    </div>
    <div class="token-card">
      <div class="token-name">isPlatformBrowser()</div>
      <div class="token-value">{{ isBrowser }}</div>
      <div class="token-desc">Whether we're running in a browser environment</div>
    </div>
  </div>
</div>

<app-code-snippet
  title="Providing at the platform level"
  [code]="platformCode"
/>

<app-code-snippet
  title="Multiple apps sharing a platform"
  [code]="multiAppCode"
/>

<div class="demo-section">
  <h2 class="demo-section-title">Root-Level Instance (for comparison)</h2>
  <div class="explanation-box">
    Since providing custom services at the platform level requires low-level APIs
    (<code>createPlatformFactory</code>), this page shows the <strong>root-level</strong>
    TrackerService instance instead. In practice, the root level is the highest level
    most applications will use.
  </div>
  <div class="card-grid">
    <app-instance-card [tracker]="rootTracker" />
  </div>
</div>

<div class="explanation-box success">
  <strong>Key takeaway:</strong> The platform injector exists above the root injector.
  It holds framework-level tokens like <code>PLATFORM_ID</code> and <code>DOCUMENT</code>.
  Custom platform providers are only needed in advanced scenarios (e.g., multiple Angular
  apps on one page sharing services, or custom rendering engines).
</div>
